
# Common Configuration
server:
  port: 8080

spring:
    # Default profile is 'development'
    # use "java -jar app.jar --spring.profiles.active=prod" to switch into production
    profiles:
        active: dev
    application:
        name: tic-tac-toe-back
    datasource:
        hikari:
            maximum-pool-size: 5

# Development Profile Configuration
---
spring:
    config:
        activate:
            on-profile: dev
    h2:
        console:
            enabled: true
    datasource:
        url: jdbc:h2:mem:testdb
        driver-class-name: org.h2.Driver
        username: sa
        password: password
    jpa:
        hibernate:
            ddl-auto: update
        show-sql: true


# Production-like Profile Configuration with postgres
---
spring:
    config:
        activate:
            on-profile: prod-dev
    datasource:
        url: jdbc:postgresql://localhost:5432/postgres
        driver-class-name: org.postgresql.Driver
        username: postgres
        password: postgres
    jpa:
        hibernate:
            ddl-auto: update

# Production Profile Configuration
---
spring:
    config:
        activate:
            on-profile: prod
    datasource:
        driver-class-name: org.postgresql.Driver
        url: ${SPRING_DATASOURCE_URL}
        username: ${SPRING_DATASOURCE_USERNAME}
        password: ${SPRING_DATASOURCE_PASSWORD}
    jpa:
        hibernate:
            ddl-auto: update
# Optional AWS Credential Service Configuration (for future use)
# ---
# spring:
#     profiles: aws-credentials
#     rds:
#         datasource:
#             username: ${aws.rds.datasource.username}
#             password: ${aws.rds.datasource.password}
